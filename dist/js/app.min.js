"use strict";var restUrlBase="http://amarriner.com/awbw/api/";angular.module("advanceWarsByWeb",["ngRoute","advanceWarsByWeb.cos","advanceWarsByWeb.countries","advanceWarsByWeb.login","advanceWarsByWeb.navbar","advanceWarsByWeb.units","advanceWarsByWeb.version","advanceWarsByWebServices"]).config(["$routeProvider",function(a){a.when("/cos",{templateUrl:"views/cos/cos.html",controller:"CosCtrl"}).when("/countries",{templateUrl:"views/countries/countries.html",controller:"CountriesCtrl"}).when("/units",{templateUrl:"views/units/units.html",controller:"UnitsCtrl"}).otherwise({redirectTo:"/units"})}]).directive("navbar",function(){return{templateUrl:"views/navbar/navbar.html"}});var advanceWarsByWebServices=angular.module("advanceWarsByWebServices",["ngResource"]);angular.module("advanceWarsByWeb.version.interpolate-filter",[]).filter("interpolate",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]),angular.module("advanceWarsByWeb.version.version-directive",[]).directive("appVersion",["version",function(a){return function(b,c){c.text(a)}}]),angular.module("advanceWarsByWeb.version",["advanceWarsByWeb.version.interpolate-filter","advanceWarsByWeb.version.version-directive"]).value("version","0.1"),angular.module("advanceWarsByWeb.cos",["ngRoute"]).config(["$routeProvider",function(a){a.when("/cos",{templateUrl:"views/cos/cos.html",controller:"CosCtrl"})}]).controller("CosCtrl",["$scope","Cos",function(a,b){var c=b.query();a.cos=c}]),angular.module("advanceWarsByWeb.countries",["ngRoute"]).config(["$routeProvider",function(a){a.when("/countries",{templateUrl:"views/countries/countries.html",controller:"CountriesCtrl"})}]).controller("CountriesCtrl",["$scope","Countries",function(a,b){var c=b.query();a.countries=c}]),angular.module("advanceWarsByWeb.login",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"views/login/login.html",controller:"LoginCtrl"})}]).controller("LoginCtrl",["$scope","$http","User",function(a,b,c){a.submit=function(){var b={username:a.username,password:a.password};c.getToken(b)},a.message=c.getMessage,a.loading=c.getLoading}]),angular.module("advanceWarsByWeb.navbar",[]).controller("NavbarCtrl",["$scope","User",function(a,b){a.username=b.getUsername}]),angular.module("advanceWarsByWeb.units",["ngRoute"]).config(["$routeProvider",function(a){a.when("/units",{templateUrl:"views/units/units.html",controller:"UnitsCtrl"})}]).controller("UnitsCtrl",["$scope","Units",function(a,b){b.getUnits().success(function(b){a.units=b}).error(function(a){console.log("Error retrieving Units "+a)})}]),advanceWarsByWebServices.factory("Cos",["$resource",function(a){return a("data/cos.json",{},{query:{method:"GET",params:{},isArray:!0}})}]),advanceWarsByWebServices.factory("Countries",["$resource",function(a){return a("data/countries.json",{},{query:{method:"GET",params:{},isArray:!0}})}]),advanceWarsByWebServices.factory("Units",["$http",function(a){var b={};return b.getUnits=function(){return a.get("http://www.amarriner.com/awbw/api/unit-type")},b}]),advanceWarsByWebServices.factory("User",["$http",function(a){var b,c,d,e=!1;return{getLoading:function(){return e},getMessage:function(){return b},getToken:function(f){return b="",e=!0,a.post(restUrlBase+"login",f).success(function(a){c=a.token,d=a.username,b="Success!",e=!1}).error(function(a){b=a.message,e=!1})},getUsername:function(){return d}}}]);