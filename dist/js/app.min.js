"use strict";var restUrlBase="https://awbw-api.amarriner.com/";angular.module("advanceWarsByWeb",["ngRoute","ngCookies","advanceWarsByWeb.cos","advanceWarsByWeb.countries","advanceWarsByWeb.login","advanceWarsByWeb.navbar","advanceWarsByWeb.terrain","advanceWarsByWeb.units","advanceWarsByWeb.version","advanceWarsByWebServices"]).config(["$routeProvider",function(a){a.when("/cos",{templateUrl:"views/cos/cos.html",controller:"CosCtrl"}).when("/countries",{templateUrl:"views/countries/countries.html",controller:"CountriesCtrl"}).when("/terrain",{templateUrl:"views/terrain/terrain.html",controller:"TerrainCtrl"}).when("/units",{templateUrl:"views/units/units.html",controller:"UnitsCtrl"}).otherwise({redirectTo:"/units"})}]).directive("navbar",function(){return{templateUrl:"views/navbar/navbar.html"}});var advanceWarsByWebServices=angular.module("advanceWarsByWebServices",["ngResource"]);angular.module("advanceWarsByWeb.version.interpolate-filter",[]).filter("interpolate",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]),angular.module("advanceWarsByWeb.version.version-directive",[]).directive("appVersion",["version",function(a){return function(b,c){c.text(a)}}]),angular.module("advanceWarsByWeb.version",["advanceWarsByWeb.version.interpolate-filter","advanceWarsByWeb.version.version-directive"]).value("version","0.1"),angular.module("advanceWarsByWeb.cos",["ngRoute"]).config(["$routeProvider",function(a){a.when("/cos",{templateUrl:"views/cos/cos.html",controller:"CosCtrl"})}]).controller("CosCtrl",["$scope","Cos",function(a,b){var c=b.query();a.cos=c}]),angular.module("advanceWarsByWeb.countries",["ngRoute"]).config(["$routeProvider",function(a){a.when("/countries",{templateUrl:"views/countries/countries.html",controller:"CountriesCtrl"})}]).controller("CountriesCtrl",["$scope","Countries",function(a,b){a.message=b.getMessage,a.countries=b.getCountries}]),angular.module("advanceWarsByWeb.login",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"views/login/login.html",controller:"LoginCtrl"})}]).controller("LoginCtrl",["$scope","$http","User",function(a,b,c){$("#username").focus(),a.submit=function(){var b={username:a.username,password:a.password};c.login(b)},a.message=c.getMessage,a.loading=c.getLoading}]),angular.module("advanceWarsByWeb.navbar",[]).controller("NavbarCtrl",["$scope","User",function(a,b){a.username=b.getUsername,a.isLoggedIn=b.isLoggedIn,a.logout=function(){b.logout()}}]),angular.module("advanceWarsByWeb.terrain",["ngRoute"]).config(["$routeProvider",function(a){a.when("/terrain",{templateUrl:"views/terrain/terrain.html",controller:"TerrainCtrl"})}]).controller("TerrainCtrl",["$scope","Terrain",function(a,b){a.message=b.getMessage,a.terrain=b.getTerrain}]),angular.module("advanceWarsByWeb.units",["ngRoute"]).config(["$routeProvider",function(a){a.when("/units",{templateUrl:"views/units/units.html",controller:"UnitsCtrl"})}]).controller("UnitsCtrl",["$scope","Units",function(a,b){a.message=b.getMessage,a.units=b.getUnits}]),advanceWarsByWebServices.factory("Cos",["$resource",function(a){return a("data/cos.json",{},{query:{method:"GET",params:{},isArray:!0}})}]),advanceWarsByWebServices.factory("Countries",["$http",function(a){var b,c;return a.get("https://awbw-api.amarriner.com/country-type").success(function(a){c=a}).error(function(){b="Error retrieving countries from API!"}),{getMessage:function(){return b},getCountries:function(){return c}}}]),advanceWarsByWebServices.factory("Terrain",["$http",function(a){var b,c;return a.get("https://awbw-api.amarriner.com/terrain-type").success(function(a){c=a}).error(function(){b="Error retrieving terrain from API!"}),{getMessage:function(){return b},getTerrain:function(){return c}}}]),advanceWarsByWebServices.factory("Units",["$http",function(a){var b,c;return a.get("https://awbw-api.amarriner.com/unit-type").success(function(a){c=a}).error(function(){b="Error retrieving units from API!"}),{getMessage:function(){return b},getUnits:function(){return c}}}]),advanceWarsByWebServices.factory("User",["$http","$location",function(a,b){var c,d,e,f=!1,g=!1;return{getLoading:function(){return f},getMessage:function(){return c},getToken:function(){return e},getUsername:function(){return d},isLoggedIn:function(){return g},login:function(b){c="",f=!0;var h={method:"POST",url:"https://awbw-api.amarriner.com/login",headers:{"Awbw-Token":e},data:b};return a(h).success(function(a){e=a.token,d=a.username,c=a.message,f=!1,g=!0}).error(function(a){c=a.message,f=!1,g=!1})},logout:function(){d=void 0,e=void 0,g=!1,b.path("/")}}}]);