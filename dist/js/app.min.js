"use strict";var restUrlBase="http://amarriner.com/awbw/api/";angular.module("advanceWarsByWeb",["ngRoute","ngCookies","advanceWarsByWeb.cos","advanceWarsByWeb.countries","advanceWarsByWeb.login","advanceWarsByWeb.navbar","advanceWarsByWeb.units","advanceWarsByWeb.version","advanceWarsByWebServices"]).config(["$routeProvider",function(a){a.when("/cos",{templateUrl:"views/cos/cos.html",controller:"CosCtrl"}).when("/countries",{templateUrl:"views/countries/countries.html",controller:"CountriesCtrl"}).when("/units",{templateUrl:"views/units/units.html",controller:"UnitsCtrl"}).otherwise({redirectTo:"/units"})}]).directive("navbar",function(){return{templateUrl:"views/navbar/navbar.html"}});var advanceWarsByWebServices=angular.module("advanceWarsByWebServices",["ngResource"]);angular.module("advanceWarsByWeb.version.interpolate-filter",[]).filter("interpolate",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]),angular.module("advanceWarsByWeb.version.version-directive",[]).directive("appVersion",["version",function(a){return function(b,c){c.text(a)}}]),angular.module("advanceWarsByWeb.version",["advanceWarsByWeb.version.interpolate-filter","advanceWarsByWeb.version.version-directive"]).value("version","0.1"),angular.module("advanceWarsByWeb.cos",["ngRoute"]).config(["$routeProvider",function(a){a.when("/cos",{templateUrl:"views/cos/cos.html",controller:"CosCtrl"})}]).controller("CosCtrl",["$scope","Cos",function(a,b){var c=b.query();a.cos=c}]),angular.module("advanceWarsByWeb.countries",["ngRoute"]).config(["$routeProvider",function(a){a.when("/countries",{templateUrl:"views/countries/countries.html",controller:"CountriesCtrl"})}]).controller("CountriesCtrl",["$scope","Countries",function(a,b){var c=b.query();a.countries=c}]),angular.module("advanceWarsByWeb.login",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"views/login/login.html",controller:"LoginCtrl"})}]).controller("LoginCtrl",["$scope","$http","User",function(a,b,c){a.submit=function(){var b={username:a.username,password:a.password};c.login(b)},a.message=c.getMessage,a.loading=c.getLoading}]),angular.module("advanceWarsByWeb.navbar",[]).controller("NavbarCtrl",["$scope","User",function(a,b){a.username=b.getUsername,a.isLoggedIn=b.isLoggedIn,a.logout=function(){b.logout()}}]),angular.module("advanceWarsByWeb.units",["ngRoute"]).config(["$routeProvider",function(a){a.when("/units",{templateUrl:"views/units/units.html",controller:"UnitsCtrl"})}]).controller("UnitsCtrl",["$scope","Units",function(a,b){b.getUnits().success(function(b){a.units=b}).error(function(a){console.log("Error retrieving Units "+a)})}]),advanceWarsByWebServices.factory("Cos",["$resource",function(a){return a("data/cos.json",{},{query:{method:"GET",params:{},isArray:!0}})}]),advanceWarsByWebServices.factory("Countries",["$resource",function(a){return a("data/countries.json",{},{query:{method:"GET",params:{},isArray:!0}})}]),advanceWarsByWebServices.factory("Units",["$http",function(a){var b={};return b.getUnits=function(){return a.get("http://amarriner.com/awbw/api/unit-type")},b}]),advanceWarsByWebServices.factory("User",["$http","$location",function(a,b){var c,d,e,f=!1,g=!1;return{getLoading:function(){return f},getMessage:function(){return c},getToken:function(){return e},getUsername:function(){return d},isLoggedIn:function(){return g},login:function(b){c="",f=!0;var h={method:"POST",url:restUrlBase+"login",headers:{"Awbw-Token":e},data:b};return a(h).success(function(a){e=a.token,d=a.username,c=a.message,f=!1,g=!0}).error(function(a){c=a.message,f=!1,g=!1})},logout:function(){d=void 0,e=void 0,g=!1,b.path("/")}}}]);